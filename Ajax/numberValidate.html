<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Number Validation</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<style>
	body{
		font-family: cursive;
	}
</style>
<!-- Java & Jquary Code (>)-->


            <script>
            // Jquery
            $(document).ready(function(){
                //alert("I am ready.");
				
				$("#submit").click(function(){
					let number = $("#number").val();
					if(number == "" || number == " "){
						$("#error").html("Number should not be empty.");
						$("#error").css("color", "red");
						return false;
					}
				
				//ajax code
				/*GET Method*/
				number = "+91" + number;
				$.ajax({
					url : "https://api.numlookupapi.com/v1/validate/" + number + "?apikey=44kjZLGjp2uEu7stCrSSD2xQx0IztmOQ8wdqjQVF",
					type: "GET",
					
					
					success: function(data1, textStatus1, jqXHR)
					{
						var data = data1;
						$("#error").html("");
						console.log(data);
						console.log(data['valid']);
						console.log(textStatus1);
						console.log(jqXHR);
						//alert("Data: " + data);
						$("#status").html(data['valid']);
						$("#operator").html(data['carrier']);
						$("#location").html(data['location']);
						$("#country_name").html(data['country_name']);
					},
					error: function (jqXHR, textStatus, errorThrown)
					{
						$("#error").html("Error while getting number information");
						
					}
				});
               
				});
				
				
				/*Post Method*/
				$("#checkStatus").click(function(){
					let number = $("#number").val();
					if(number == "" || number == " "){
						$("#error").html("Number should not be empty.");
						$("#error").css("color", "red");
						return false;
					}
				
				//ajax code
				//var  formData = "name=ravi&age=31";  //Name value Pair
				//or
				//var formData = {name:"ravi",age:"31"}; //Json Array 
				number = "+91" + number;
				$.ajax({
					url : "https://api.numlookupapi.com/v1/validate/" + number + "?apikey=key",
					type: "GET",
					//data : formData,
					success: function(data, textStatus, jqXHR)
					{
						$("#error").html("");
						console.log(data);
						console.log(data['valid']);
						console.log(textStatus);
						console.log(jqXHR);
						//alert("Data: " + data);
						$("#status").html(data['valid']);
						$("#operator").html(data['carrier']);
						$("#location").html(data['location']);
						$("#country_name").html(data['country_name']);
					},
					error: function (jqXHR, textStatus, errorThrown)
					{
						$("#error").html("Error while getting number information");
						
					}
				});
               
				});
            });
           
        </script>


<!-- Java & Jquary Code (<)-->
<body>
	<body>
        <form action="#" method="get" onsubmit="return false">
            <h3>Enter number to check status</h3>
            <span id="error"></span><br>
            <label>Mobile Number:</label>
            <input type="text" name="number" id="number" /><br><br>
			 Status:- <span id="status"></span><br>
			 Operator:- <span id="operator"></span><br>
			 Location:- <span id="location"></span><br>
			 Country-Name:- <span id="country_name"></span><br><br>
            <input type="submit" value="Request to check" id="submit" />
        </form>
    </body>
</body>
</html>